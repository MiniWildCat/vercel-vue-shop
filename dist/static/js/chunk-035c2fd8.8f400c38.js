(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-035c2fd8"],{"20c3":function(e,t,s){"use strict";s("f9ce")},"89a8":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sign-up",on:{click:function(t){e.$refs.verify.show=!1}}},[t("div",{staticStyle:{height:"50px"}}),t("div",{staticClass:"logo-box"},[t("img",{attrs:{width:"150",src:e.$store.state.logoImg},on:{click:function(t){return e.$router.push("/")}}}),t("div",[e._v("注册")])]),t("div",{staticClass:"login-container"},[t("Form",{ref:"formRegist",staticStyle:{width:"300px"},attrs:{model:e.formRegist,rules:e.ruleInline}},[t("FormItem",{attrs:{prop:"username"}},[t("i-input",{attrs:{type:"text",clearable:"",placeholder:"用户名"},model:{value:e.formRegist.username,callback:function(t){e.$set(e.formRegist,"username",t)},expression:"formRegist.username"}},[t("Icon",{attrs:{slot:"prepend",type:"md-person"},slot:"prepend"})],1)],1),t("FormItem",{attrs:{prop:"password"}},[t("i-input",{attrs:{type:"password",clearable:"",placeholder:"请输入大于6位密码"},model:{value:e.formRegist.password,callback:function(t){e.$set(e.formRegist,"password",t)},expression:"formRegist.password"}},[t("Icon",{attrs:{slot:"prepend",type:"md-lock"},slot:"prepend"})],1)],1),t("FormItem",{attrs:{prop:"mobilePhone"}},[t("i-input",{attrs:{type:"text",clearable:"",placeholder:"手机号"},model:{value:e.formRegist.mobilePhone,callback:function(t){e.$set(e.formRegist,"mobilePhone",t)},expression:"formRegist.mobilePhone"}},[t("Icon",{attrs:{slot:"prepend",type:"md-phone-portrait"},slot:"prepend"})],1)],1),t("FormItem",{attrs:{prop:"code"}},[t("i-input",{attrs:{type:"text",clearable:"",placeholder:"手机验证码"},model:{value:e.formRegist.code,callback:function(t){e.$set(e.formRegist,"code",t)},expression:"formRegist.code"}},[t("Icon",{staticStyle:{"font-weight":"bold"},attrs:{slot:"prepend",type:"ios-text-outline"},slot:"prepend"}),t("Button",{attrs:{slot:"append"},on:{click:e.sendCode},slot:"append"},[e._v(e._s(e.codeMsg))])],1)],1),t("FormItem",[t("Button",{attrs:{long:"",type:e.verifyStatus?"success":"default"},on:{click:e.verifyBtnClick}},[e._v(e._s(e.verifyStatus?"验证通过":"点击完成安全验证"))])],1),t("FormItem",[t("Button",{attrs:{type:"error",size:"large",long:""},on:{click:e.handleRegist}},[e._v("注册")])],1),t("FormItem",[t("span",{staticClass:"color999 ml_20"},[e._v("点击注册，表示您同意《"),t("router-link",{attrs:{to:"/article?id=1371992704333905920",target:"_blank"}},[e._v("商城用户协议")]),e._v("》")],1)])],1),t("Verify",{ref:"verify",staticClass:"verify-con",attrs:{verifyType:e.verifyType},on:{change:e.verifyChange}}),t("div",{staticClass:"login-btn"},[e._v("已有账号？"),t("a",{on:{click:function(t){return e.$router.push("login")}}},[e._v("立即登录")])])],1),t("div",{staticClass:"foot"},[t("Row",{staticClass:"help",attrs:{type:"flex",justify:"space-around"}},[t("router-link",{staticClass:"item",attrs:{to:"/article",target:"_blank"}},[e._v("帮助")]),t("router-link",{staticClass:"item",attrs:{to:"/article?id=1371779927900160000",target:"_blank"}},[e._v("隐私")]),t("router-link",{staticClass:"item",attrs:{to:"/article?id=1371992704333905920",target:"_blank"}},[e._v("条款")])],1),t("Row",{staticClass:"copyright",attrs:{type:"flex",justify:"center"}},[e._v(" Copyright © "+e._s(e.year)+" - Present "),t("a",{staticStyle:{margin:"0 5px"},attrs:{href:"https://pickmall.cn",target:"_blank"}},[e._v(e._s(e.config.title))]),e._v(" 版权所有 ")])],1)])},i=[],o=s("7dfd"),a=s("be72"),n=s("7ded"),l=s("2934"),c=s("6402"),p={name:"SignUp",components:{Verify:c["a"]},data(){return{config:s("f121"),year:(new Date).getFullYear(),formRegist:{mobilePhone:"",code:"",username:"",password:""},ruleInline:{username:[{required:!0,message:"请输入用户名"}],password:[{required:!0,message:"请输入密码"},{type:"string",min:6,message:"密码不能少于6位"}],mobilePhone:[{required:!0,message:"请输入手机号码"},{pattern:o["mobile"],trigger:"blur",message:"请输入正确的手机号"}],code:[{required:!0,message:"请输入手机验证码"}]},verifyStatus:!1,verifyType:"REGISTER",codeMsg:"发送验证码",interval:"",time:60}},methods:{handleRegist(){this.$refs.formRegist.validate(e=>{if(e){let e=JSON.parse(JSON.stringify(this.formRegist));e.password=Object(a["md5"])(e.password),n["e"](e).then(e=>{e.success?(this.$Message.success("注册成功!"),this.$router.push("login")):this.$Message.warning(e.message)})}})},sendCode(){if(60===this.time){if(""===this.formRegist.mobilePhone)return void this.$Message.warning("请先填写手机号");if(!this.verifyStatus)return void this.$Message.warning("请先完成安全验证");let e={mobile:this.formRegist.mobilePhone,verificationEnums:"REGISTER"};Object(l["g"])(e).then(e=>{if(e.success){this.$Message.success("验证码发送成功");let e=this;this.interval=setInterval(()=>{e.time--,0===e.time?(e.time=60,e.codeMsg="重新发送",e.verifyStatus=!1,clearInterval(e.interval)):e.codeMsg=e.time},1e3)}else this.$Message.warning(e.message)})}},verifyChange(e){e.status&&(this.$refs.verify.show=!1,this.verifyStatus=!0)},verifyBtnClick(){this.verifyStatus||this.$refs.verify.init()}},mounted(){this.$refs.formRegist.resetFields(),document.querySelector(".sign-up").style.height=window.innerHeight+"px"}},m=p,f=(s("20c3"),s("2877")),d=Object(f["a"])(m,r,i,!1,null,"13f24bf4",null);t["default"]=d.exports},f9ce:function(e,t,s){}}]);