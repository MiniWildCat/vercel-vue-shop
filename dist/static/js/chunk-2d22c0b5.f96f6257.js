(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22c0b5"],{f20c:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("card",{attrs:{_Title:"用户信息"}}),t("Form",{ref:"form",attrs:{model:e.formItem,rules:e.rules,"label-width":80}},[t("FormItem",{attrs:{label:"头像"}},[e.formItem.face?t("Avatar",{attrs:{src:e.formItem.face,size:"80"}}):t("Avatar",{attrs:{icon:"ios-person",size:"80"}}),t("Upload",{attrs:{"show-upload-list":!1,"on-success":e.handleSuccess,format:["jpg","jpeg","png"],action:e.action,headers:e.accessToken}},[t("Button",{staticClass:"mt_10"},[e._v("上传头像")])],1)],1),t("FormItem",{attrs:{label:"昵称",prop:"nickName"}},[t("Input",{staticClass:"wrapper-user-name",staticStyle:{width:"187px"},attrs:{placeholder:""},model:{value:e.formItem.nickName,callback:function(t){e.$set(e.formItem,"nickName",t)},expression:"formItem.nickName"}})],1),t("FormItem",{attrs:{label:"生日"}},[t("DatePicker",{attrs:{type:"date",placeholder:"选择您的生日"},model:{value:e.formItem.birthday,callback:function(t){e.$set(e.formItem,"birthday",t)},expression:"formItem.birthday"}})],1),t("FormItem",{attrs:{label:"性别"}},[t("RadioGroup",{attrs:{type:"button","button-style":"solid"},model:{value:e.formItem.sex,callback:function(t){e.$set(e.formItem,"sex",t)},expression:"formItem.sex"}},[t("Radio",{attrs:{label:1}},[e._v("男")]),t("Radio",{attrs:{label:0}},[e._v("女")])],1)],1),t("FormItem",[t("Button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确认修改")])],1)],1)],1)},r=[],o=s("5723"),m=s("ff66"),c=s("e487"),i={name:"Profile",data(){return{rules:{nickName:[{required:!0,message:"用户昵称不能为空"},{max:16,message:"用户昵称不能超过15个字符"}]},formItem:{},action:m["c"]+"/common/common/upload/file",accessToken:{}}},mounted(){this.formItem=JSON.parse(c["a"].getItem("userInfo")),this.accessToken.accessToken=c["a"].getItem("accessToken")},methods:{save(){this.$refs.form.validate(e=>{if(e){let e={birthday:this.$options.filters.unixToDate(this.formItem.birthday/1e3,"yyyy-MM-dd"),face:this.formItem.face,nickName:this.formItem.nickName,sex:this.formItem.sex};Object(o["a"])(e).then(e=>{e.success&&(this.$Message.success("修改个人资料成功"),c["a"].setItem("userInfo",e.result),this.$router.go(0))})}})},handleSuccess(e,t){this.$set(this.formItem,"face",e.result)}}},l=i,n=s("2877"),f=Object(n["a"])(l,a,r,!1,null,"9e03ff0c",null);t["default"]=f.exports}}]);