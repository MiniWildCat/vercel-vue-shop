(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e2c6fa9"],{"3e78":function(t,s,i){"use strict";i("7a91")},"4eca":function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t._self._c;return s("div",{staticStyle:{background:"#fff"}},[s("BaseHeader"),s("Search",{staticStyle:{"border-bottom":"2px solid red"}}),s("div",{staticClass:"base-width cate-container"},[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v("首页")]),s("BreadcrumbItem",[t._v(t._s(t.goodsMsg.pointsGoodsCategoryName))])],1)],1),s("div",{staticClass:"item-detail-show"},[s("div",{staticClass:"item-detail-left"},[s("div",{staticClass:"item-detail-big-img"},[t.goodsSku.thumbnail?s("pic-zoom",{attrs:{url:t.goodsSku.thumbnail,scale:2}}):t._e()],1),s("div",{staticClass:"item-detail-img-row"},[s("div",{staticClass:"item-detail-img-small"},[s("img",{attrs:{src:t.goodsSku.thumbnail}})])])]),s("div",{staticClass:"item-detail-right"},[s("div",{staticClass:"item-detail-title"},[s("p",[t._v(t._s(t.goodsSku.goodsName))])]),s("div",{staticClass:"sell-point"},[t._v(" "+t._s(t.goodsSku.sellingPoint)+" ")]),s("div",{staticClass:"item-detail-price-row"},[s("div",{staticClass:"item-price-left"},[s("div",{staticClass:"item-price-row"},[s("p",[s("span",{staticClass:"item-price-title"},[t._v("积     分")]),s("span",{staticClass:"item-price"},[t._v(t._s(t.goodsMsg.points))])])])])]),s("div",{staticClass:"add-buy-car-box"},[s("div",{staticClass:"item-select"},[t._m(0),s("div",{staticClass:"item-select-row"},[s("InputNumber",{attrs:{min:1,disabled:0===t.goodsSku.quantity},model:{value:t.count,callback:function(s){t.count=s},expression:"count"}}),s("span",{staticClass:"inventory"},[t._v(" 库存"+t._s(t.goodsSku.quantity))])],1)]),"VIRTUAL_GOODS"!==t.goodsSku.goodsType&&0!==t.goodsSku.weight?s("div",{staticClass:"item-select"},[t._m(1),s("div",{staticClass:"item-select-row"},[s("span",{staticClass:"inventory"},[t._v(" "+t._s(t.goodsSku.weight)+"kg")])])]):t._e(),s("div",{staticClass:"add-buy-car"},[s("Button",{attrs:{type:"error",loading:t.loading,disabled:0===t.goodsSku.quantity},on:{click:t.pointBuy}},[t._v("积分购买")])],1)])])]),s("div",{ref:"itemIntroGoods",staticClass:"base-width item-intro"},[s("div",[t._v("商品介绍")]),t.goodsSku.intro?s("div",{staticClass:"mt_10 ml_10",domProps:{innerHTML:t._s(t.goodsSku.intro)}}):s("div",{staticStyle:{margin:"20px"}},[t._v("暂无商品介绍")])]),t.isLoading?s("Spin",{attrs:{size:"large",fix:""}}):t._e(),s("BaseFooter")],1)},a=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"item-select-title"},[s("p",[t._v("数量")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"item-select-title"},[s("p",[t._v("重量")])])}],o=i("c106"),c=i("86bd"),d=i("2166"),l=i("f74c"),n={name:"PointGoodsDetail",beforeRouteEnter(t,s,i){window.scrollTo(0,0),i()},created(){this.getGoodsDetail()},mounted(){window.addEventListener("scroll",this.handleScroll)},data(){return{goodsMsg:{},goodsSku:{},isLoading:!1,categoryBar:[],onceFlag:!0,count:1,loading:!1}},methods:{getGoodsDetail(){this.isLoading=!0,Object(l["c"])(this.$route.query.id).then(t=>{this.isLoading=!1,t.success?(this.goodsMsg=t.result,this.goodsSku=t.result.goodsSku):(this.$Message.error(t.message),this.$router.push("/"))}).catch(()=>{this.$router.push("/")})},pointBuy(){const t={num:this.count,skuId:this.goodsMsg.skuId,cartType:"POINTS"};this.loading=!0,Object(d["a"])(t).then(s=>{this.loading=!1,s.success?this.$router.push({path:"/pay",query:{way:t.cartType}}):this.$Message.warning(s.message)}).catch(()=>{this.loading=!1})},handleScroll(){this.onceFlag&&(this.$nextTick(()=>{this.changeHeight()}),this.onceFlag=!1)},changeHeight(){let t=document.querySelector(".item-intro"),s=window.getComputedStyle(t).height;s=parseInt(s.substr(0,s.length-2))+89,this.$refs.itemIntroGoods.style.height=s+"px"}},components:{Search:o["a"],PicZoom:c["a"]}},r=n,u=(i("3e78"),i("2877")),g=Object(u["a"])(r,e,a,!1,null,"491cd700",null);s["default"]=g.exports},"7a91":function(t,s,i){}}]);