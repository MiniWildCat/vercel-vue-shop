(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38840576"],{"3e0f":function(t,e,s){"use strict";s.d(e,"c",(function(){return n})),s.d(e,"a",(function(){return a})),s.d(e,"b",(function(){return r})),s.d(e,"d",(function(){return o}));var i=s("ff66");function n(t){return Object(i["d"])({url:"/buyer/payment/cashier/tradeDetail",needToken:!0,method:i["a"].GET,params:t})}function a(t){return Object(i["d"])({url:`/buyer/payment/cashier/pay/${t.paymentMethod}/${t.paymentClient}`,needToken:!0,method:i["a"].GET,params:t})}function r(t){return Object(i["d"])({url:"/buyer/payment/cashier/result",needToken:!0,method:i["a"].GET,params:t})}function o(t){return Object(i["d"])({url:"/buyer/wallet/wallet/withdrawalSettingVO",needToken:!0,method:i["a"].GET,params:t})}},"3f09":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mv-count-down"},[t.msTime.show?e("p",[t.msTime.day>0?e("span",[e("span",[t._v(t._s(t.msTime.day))]),e("i",[t._v(t._s(t.dayTxt))])]):t._e(),e("span",[t._v(t._s(t.msTime.hour))]),e("i",[t._v(t._s(t.hourTxt))]),e("span",[t._v(t._s(t.msTime.minutes))]),e("i",[t._v(t._s(t.minutesTxt))]),e("span",[t._v(t._s(t.msTime.seconds))]),e("i",[t._v(t._s(t.secondsTxt))])]):t._e(),t.msTime.show?t._e():e("p",[t._v(t._s(t.endText))])])},n=[],a={name:"MvCountDown",replace:!0,data(){return{tipShow:!0,msTime:{show:!1,day:"",hour:"",minutes:"",seconds:""},star:"",end:"",current:""}},props:{isStart:{type:Boolean,default:!1},tipText:{type:String,default:"距离开始"},tipTextEnd:{type:String,default:"距离结束"},id:{type:String,default:"1"},currentTime:{type:Number},startTime:{type:Number},endTime:{type:Number},endText:{type:String,default:"已结束"},dayTxt:{type:String,default:":"},hourTxt:{type:String,default:":"},minutesTxt:{type:String,default:":"},secondsTxt:{type:String,default:":"},secondsFixed:{type:Boolean,default:!1}},mounted(){console.log(this)},watch:{isStart:{handler:function(t){t&&this.gogogo()},immediate:!0},currentTime:function(t,e){this.gogogo()}},methods:{gogogo(){10==this.startTime.toString().length?this.star=1e3*this.startTime:this.star=this.startTime,10==this.endTime.toString().length?this.end=1e3*this.endTime:this.end=this.endTime,this.currentTime?10==this.currentTime.toString().length?this.current=1e3*this.currentTime:this.current=this.currentTime:this.current=(new Date).getTime(),this.end<this.current?(this.msTime.show=!1,this.end_message()):this.current<this.star?(this.$set(this,"tipShow",!0),this.$nextTick(()=>{this.runTime(this.star,this.current,this.start_message)})):(this.end>this.current&&this.star<this.current||this.star==this.current)&&(this.$set(this,"tipShow",!1),this.msTime.show=!0,this.$emit("start_callback",this.msTime.show),this.$nextTick(()=>{this.runTime(this.end,this.star,this.end_message,!0)}))},runTime(t,e,s,i){let n=this.msTime,a=t-e;if(a>0){this.msTime.show=!0,n.day=Math.floor(a/864e5),a-=864e5*n.day,n.hour=Math.floor(a/36e5),a-=36e5*n.hour,n.minutes=Math.floor(a/6e4),a-=6e4*n.minutes,n.seconds=Math.floor(a/1e3).toFixed(0),a-=1e3*n.seconds,n.hour<10&&(n.hour="0"+n.hour),n.minutes<10&&(n.minutes="0"+n.minutes),n.seconds<10&&(n.seconds="0"+n.seconds);let t=Date.now(),r=Date.now(),o=r-t;setTimeout(()=>{i?this.runTime(this.end,e+=1e3,s,!0):this.runTime(this.star,e+=1e3,s)},1e3-o)}else s()},start_message(){this.$set(this,"tipShow",!1),this.$emit("startCallback",this.msTime.show),this.$nextTick(()=>{this.runTime(this.end,this.star,this.end_message,!0)})},end_message(){this.msTime.show=!1,this.currentTime<=0||this.$emit("endCallback",this.msTime.show)}},destroyed(){}},r=a,o=(s("7d54"),s("2877")),u=Object(o["a"])(r,i,n,!1,null,"351b247a",null);e["default"]=u.exports},7053:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("BaseHeader"),e("div",{staticClass:"wrapper-head"},[e("div",{staticClass:"head-left"},[e("div",{staticClass:"left-tips"},[t._v("订单提交成功，请尽快付款！")]),e("div",{staticClass:"left-tips-time"},[t._v("请您尽快完成支付，否则订单会被自动取消")]),e("div",{staticClass:"left-tips-count-down"},[e("mv-count-down",{staticClass:"count-down",attrs:{startTime:t.startTime,endTime:t.endTime,endText:t.endText,dayTxt:"天",hourTxt:"小时",minutesTxt:"分钟",secondsTxt:"秒",isStart:t.isStart}})],1)]),e("div",{staticClass:"head-right"},[e("div",[t._v("应付金额 "),e("span",{staticClass:"price"},[t._v(t._s(t._f("unitPrice")(t.payDetail.price)))]),t._v("元")])])]),e("div",{staticClass:"wrapper-box"},[t.support.includes("ALIPAY")?e("div",{staticClass:"-box-item",on:{click:function(e){return t.handlePay("ALIPAY")}}},[e("img",{attrs:{src:"https://ss3.bdstatic.com/yrwDcj7w0QhBkMak8IuT_XF5ehU5bvGh7c50/logopic/a9936a369e82e0c6c42112674a5220e8_fullsize.jpg",alt:""}}),e("span",[t._v("支付宝")])]):t._e(),t.support.includes("WECHAT")?e("div",{staticClass:"-box-item",on:{click:function(e){return t.handlePay("WECHAT")}}},[e("img",{attrs:{src:"https://dss1.bdstatic.com/6OF1bjeh1BF3odCf/it/u=3774939867,2826752539&fm=74&app=80&f=JPEG&size=f121,121?sec=1880279984&t=796e842a5ef2d16d9edc872d6f1147ef",alt:""}}),e("span",[t._v("微信")])]):t._e(),t.support.includes("WALLET")&&"RECHARGE"!==t.$route.query.orderType?e("div",{staticClass:"-box-item",on:{click:function(e){return t.handlePay("WALLET")}}},[e("Icon",{attrs:{custom:"icomoon icon-wallet",size:"60"}}),e("span",[t._v("余额支付")]),e("span",[t._v("当前剩余("+t._s(t._f("unitPrice")(t.walletValue,"￥"))+")")])],1):t._e()]),e("BaseFooter")],1)},n=[],a=s("3e0f"),r=s("b966"),o=s.n(r),u=s("002d"),h={components:{MvCountDown:o.a},data(){return{payDetail:{},support:[],walletValue:0,qrcode:"",startTime:(new Date).getTime(),endTime:0,endText:"订单已超时取消",isStart:!1}},methods:{getTradeDetail(){const t=this.$route.query;t.clientType="PC",Object(a["c"])(t).then(t=>{t.success&&(this.payDetail=t.result,this.endTime=this.payDetail.autoCancel,this.isStart=!0,this.support=this.payDetail.support,this.walletValue=this.payDetail.walletValue)}).catch(t=>{this.$router.push({name:"MyOrder"})})},handlePay(t){if("WALLET"===t&&this.payDetail.price>this.walletValue)return void u["Message"].error("余额不足以支付当前订单，如需充值请前往会员中心");const e=this.$route.query;e.paymentMethod=t,e.paymentClient="NATIVE",e.price=this.payDetail.price,"WALLET"===t?this.$Modal.confirm({title:"支付确认",content:"<p>确认使用余额支付吗？</p>",onOk:()=>{Object(a["a"])(e).then(t=>{t.success?(this.$Message.warning(t.message),this.$router.push("/payDone")):this.$Message.warning(t.message)})}}):this.$router.push({path:"/qrpay",query:e})}},mounted(){this.getTradeDetail()}},c=h,d=(s("8eb1"),s("2877")),m=Object(d["a"])(c,i,n,!1,null,"679f533e",null);e["default"]=m.exports},"78e1":function(t,e,s){},"7d54":function(t,e,s){"use strict";s("ff95")},"8eb1":function(t,e,s){"use strict";s("78e1")},b966:function(t,e,s){t.exports=s("3f09")},ff95:function(t,e,s){}}]);