(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a8c4ea2"],{"06e1":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"wrapper"},[s("card",{attrs:{_Title:"我的足迹",_Size:16}}),s("Button",{staticClass:"del-btn",attrs:{type:"primary"},on:{click:t.clearAll}},[t._v("删除全部")]),0===t.list.length?s("empty"):s("ul",{staticClass:"track-list"},t._l(t.list,(function(e,a){return s("li",{key:a,on:{click:function(s){return t.goodsDetail(e.id,e.goodsId)}}},[s("img",{attrs:{src:e.thumbnail,alt:e.thumbnail,width:"200",height:"200"}}),s("p",{staticClass:"ellipsis"},[t._v(t._s(e.goodsName))]),s("p",[t._v(t._s(t._f("unitPrice")(e.price,"￥")))]),s("span",{staticClass:"del-icon",on:{click:function(s){return s.stopPropagation(),t.clearById(e.goodsId)}}},[s("Icon",{attrs:{type:"md-trash"}})],1)])})),0),s("div",{staticClass:"page-size"},[s("Page",{attrs:{total:t.total,"page-size":t.params.pageSize,"show-sizer":""},on:{"on-change":t.changePageNum,"on-page-size-change":t.changePageSize}})],1)],1)},i=[],n=e("8194"),r={name:"MyTrack",data(){return{list:[],spinShow:!1,params:{pageNumber:1,pageSize:30,order:"desc",sort:"updateTime"},total:0}},mounted(){this.getList()},methods:{goodsDetail(t,s){let e=this.$router.resolve({path:"/goodsDetail",query:{skuId:t,goodsId:s}});window.open(e.href,"_blank")},shopPage(t){let s=this.$router.resolve({path:"/Merchant",query:{id:t}});window.open(s.href,"_blank")},clearAll(){this.$Modal.confirm({title:"删除",content:"<p>确定要删除全部足迹吗？</p>",onOk:()=>{Object(n["n"])().then(t=>{t.success&&(this.$Message.success("删除成功"),this.getList())})},onCancel:()=>{}})},clearById(t){Object(n["o"])(t).then(t=>{t.success&&(this.$Message.success("删除成功"),this.getList())})},changePageNum(t){this.params.pageNumber=t,this.getList()},changePageSize(t){this.params.pageNumber=1,this.params.pageSize=t,this.getList()},getList(){this.spinShow=!0,Object(n["U"])(this.params).then(t=>{this.spinShow=!1,t.success&&t.result.records.length?(this.list=t.result.records.filter(t=>null!=t),this.total=t.result.total):this.list=[]})}}},o=r,c=(e("5b8b"),e("2877")),l=Object(c["a"])(o,a,i,!1,null,"06531022",null);s["default"]=l.exports},"1dd3":function(t,s,e){},"5b8b":function(t,s,e){"use strict";e("1dd3")}}]);