(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d71344a"],{"3e0f":function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i})),a.d(e,"d",(function(){return c}));var r=a("ff66");function n(t){return Object(r["d"])({url:"/buyer/payment/cashier/tradeDetail",needToken:!0,method:r["a"].GET,params:t})}function s(t){return Object(r["d"])({url:`/buyer/payment/cashier/pay/${t.paymentMethod}/${t.paymentClient}`,needToken:!0,method:r["a"].GET,params:t})}function i(t){return Object(r["d"])({url:"/buyer/payment/cashier/result",needToken:!0,method:r["a"].GET,params:t})}function c(t){return Object(r["d"])({url:"/buyer/wallet/wallet/withdrawalSettingVO",needToken:!0,method:r["a"].GET,params:t})}},"719f":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("BaseHeader"),e("div",{staticClass:"wrapper-head"},[t._m(0),e("div",{staticClass:"head-right"},[e("div",[t._v("应付金额 "),e("span",{staticClass:"price"},[t._v(t._s(t._f("unitPrice")(t.$route.query.price)))]),t._v("元")])])]),e("div",{staticClass:"content"},[e("div",{staticClass:"pay-way"},[t._v(t._s("ALIPAY"===t.params.paymentMethod?"支付宝支付":"微信支付"))]),e("div",{staticClass:"qrcode"},[e("div",{staticStyle:{width:"200px",height:"200px",border:"1px solid #eee"}},[e("vue-qr",{attrs:{text:t.qrcode,margin:0,colorDark:"#000",colorLight:"#fff",size:200}})],1),e("div",{staticClass:"intro"},[e("Icon",{attrs:{type:"md-qr-scanner"}}),t._v(" 请使用"+t._s("ALIPAY"===t.params.paymentMethod?"支付宝":"微信")+"扫码付款 ")],1)]),e("div",{staticClass:"btn-div"},[e("p",{staticClass:"mb_10"},[t._v("支付成功后自动跳转，如未跳转请点击按钮手动跳转。。。")]),e("div",[e("Button",{on:{click:t.handlePay}},[t._v("重新支付")]),e("Button",{attrs:{type:"success"},on:{click:function(e){return t.$router.push("/payDone")}}},[t._v("支付成功")])],1)]),e("a",{on:{click:function(e){return t.$router.back()}}},[t._v("选择其他支付方式>")])]),e("BaseFooter")],1)},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"head-left"},[e("div",{staticClass:"left-tips"},[t._v("订单提交成功，请尽快付款！")]),e("div",{staticClass:"left-tips-time"},[t._v("请您尽快完成支付，否则订单会被自动取消")])])}],s=a("658f"),i=a.n(s),c=a("3e0f"),u={components:{vueQr:i.a},data(){return{qrcode:"",params:this.$route.query,interval:null,num:0}},methods:{handlePay(){const t=this.$route.query;Object(c["a"])(t).then(t=>{t.success?(this.qrcode=t.result,this.num=0,this.interval=setInterval(this.callback,5e3)):this.$Message.error(t.message)})},callback(){this.num++,this.num>=7&&(clearInterval(this.interval),this.interval=null);let t=JSON.parse(JSON.stringify(this.$route.query));delete t.paymentMethod,delete t.paymentClient,Object(c["b"])(t).then(t=>{t.result&&(clearInterval(this.interval),this.interval=null,this.$router.push({path:"/payDone",query:{orderType:this.$route.query.orderType}}))})}},mounted(){this.handlePay()}},l=u,o=(a("d663"),a("2877")),d=Object(o["a"])(l,r,n,!1,null,"4aa8823c",null);e["default"]=d.exports},"8aa2":function(t,e,a){},d663:function(t,e,a){"use strict";a("8aa2")}}]);