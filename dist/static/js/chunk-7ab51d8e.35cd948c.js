(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ab51d8e"],{7612:function(s,t,a){},d04c:function(s,t,a){"use strict";a.r(t);var e=function(){var s=this,t=s._self._c;return t("div",{staticClass:"wrapper"},[t("card",{attrs:{_Title:"优惠券列表",_Tabs:s.statusNameList},on:{_Change:s.change}}),0==s.list.length?t("empty"):t("ul",{staticClass:"coupon-list"},s._l(s.list,(function(a,e){return t("li",{key:e,staticClass:"coupon-item"},[t("div",{staticClass:"c-left"},[t("div",["PRICE"===a.couponType?t("span",{staticClass:"fontsize_12 global_color"},[s._v("￥"),t("span",{staticClass:"price"},[s._v(s._s(s._f("unitPrice")(a.price)))])]):s._e(),"DISCOUNT"===a.couponType?t("span",{staticClass:"fontsize_12 global_color"},[t("span",{staticClass:"price"},[s._v(s._s(a.discount))]),s._v("折")]):s._e(),t("span",{staticClass:"describe"},[s._v("满"+s._s(a.consumeThreshold)+"元可用")])]),t("p",[s._v("使用范围："+s._s(s.useScope(a.scopeType,a.storeName)))]),t("p",[s._v("有效期："+s._s(a.endTime))])]),t("b"),t("a",{staticClass:"c-right",class:{"canot-use":"NEW"!==s.params.memberCouponStatus},on:{click:function(t){return s.go(a)}}},[s._v("立即使用")]),t("i",{staticClass:"circle-top"}),t("i",{staticClass:"circle-bottom"})])})),0),t("Page",{staticClass:"pageration",attrs:{total:s.total,"page-size":s.params.pageSize,"show-total":"","show-sizer":""},on:{"on-change":s.changePageNum,"on-page-size-change":s.changePageSize}}),s.loading?t("Spin",{attrs:{fix:""}}):s._e()],1)},i=[],o=a("8194"),n={name:"Coupons",data(){return{statusNameList:["未使用","已使用","已过期"],statusList:["NEW","USED","EXPIRE"],loading:!1,params:{pageNumber:1,pageSize:10,memberCouponStatus:"NEW"},total:0,list:[]}},methods:{getList(){this.loading=!0,Object(o["L"])(this.params).then(s=>{this.loading=!1,s.success&&(this.list=s.result.records,this.total=s.result.total)})},change(s){this.params.memberCouponStatus=this.statusList[s],this.params.pageNumber=1,this.getList()},go(s){"NEW"===this.params.memberCouponStatus&&this.$router.push({path:"/goodsList",query:{promotionsId:s.couponId,promotionType:"COUPON"}})},changePageNum(s){this.params.pageNumber=s,this.getList()},changePageSize(s){this.params.pageNumber=1,this.params.pageSize=s,this.getList()},useScope(s,t){let a="平台",e="全部商品";switch("platform"!==t&&(a=t),s){case"ALL":e="全部商品";break;case"PORTION_GOODS":e="部分商品";break;case"PORTION_GOODS_CATEGORY":e="部分分类商品";break}return`${a}${e}可用`}},mounted(){this.getList()}},c=n,r=(a("d45e"),a("2877")),p=Object(r["a"])(c,e,i,!1,null,"27d37685",null);t["default"]=p.exports},d45e:function(s,t,a){"use strict";a("7612")}}]);