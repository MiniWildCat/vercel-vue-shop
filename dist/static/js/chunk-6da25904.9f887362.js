(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6da25904"],{"2f94":function(e,n,t){"use strict";t.d(n,"e",(function(){return o})),t.d(n,"f",(function(){return i})),t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return r})),t.d(n,"c",(function(){return d})),t.d(n,"d",(function(){return c}));var a=t("ff66");function o(){return Object(a["d"])({url:"/buyer/member/address",needToken:!0,method:a["a"].GET})}function i(e){return Object(a["d"])({url:"/buyer/member/address",needToken:!0,method:a["a"].POST,data:e})}function s(e){return Object(a["d"])({url:"/buyer/member/address",needToken:!0,method:a["a"].PUT,params:e})}function r(e){return Object(a["d"])({url:"/buyer/member/address/delById/"+e,needToken:!0,method:a["a"].DELETE})}function d(e){return Object(a["d"])({url:"/buyer/member/address/get/"+e,needToken:!0,method:a["a"].GET})}function c(e){return Object(a["d"])({url:a["c"]+"/common/common/region/region",needToken:!0,method:a["a"].GET,params:e})}},"44d9":function(e,n,t){"use strict";t("bc43")},"6f49":function(e,n,t){},"7dfd":function(e,n,t){"use strict";t.r(n),t.d(n,"mobile",(function(){return a})),t.d(n,"email",(function(){return o})),t.d(n,"password",(function(){return i})),t.d(n,"integer",(function(){return s})),t.d(n,"Integer",(function(){return r})),t.d(n,"money",(function(){return d})),t.d(n,"TINumber",(function(){return c})),t.d(n,"IDCard",(function(){return l})),t.d(n,"userName",(function(){return p})),t.d(n,"URL",(function(){return u})),t.d(n,"TEL",(function(){return f})),t.d(n,"licenseNum",(function(){return h}));const a=/^0?(13[0-9]|14[0-9]|15[0-9]|16[0-9]|17[0-9]|18[0-9]|19[0-9])[0-9]{8}$/,o=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,i=/^[@A-Za-z0-9!#$%^&*.~,]{6,20}$/,s=/^[1-9]\d*$/,r=/^[0-9]\d*$/,d=/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/,c=/^((\d{6}[0-9A-Z]{9})|([0-9A-Za-z]{2}\d{6}[0-9A-Za-z]{10,12}))$/,l=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,p=/[A-Za-z0-9_\-\u4e00-\u9fa5]$/,u=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/,f=/0\d{2,3}-\d{7,8}/,h=/(^(?:(?![IOZSV])[\dA-Z]){2}\d{6}(?:(?![IOZSV])[\dA-Z]){10}$)|(^\d{15}$)/},"862d":function(e,n,t){"use strict";(function(n,t){e.exports=t()})(0,(function(){function e(e){var a=[];return e.AMapUI&&a.push(n(e.AMapUI)),e.Loca&&a.push(t(e.Loca)),Promise.all(a)}function n(e){return new Promise((function(n,t){var r=[];if(e.plugins)for(var d=0;d<e.plugins.length;d+=1)-1==o.AMapUI.plugins.indexOf(e.plugins[d])&&r.push(e.plugins[d]);if(i.AMapUI===a.failed)t("前次请求 AMapUI 失败");else if(i.AMapUI===a.notload){i.AMapUI=a.loading,o.AMapUI.version=e.version||o.AMapUI.version,d=o.AMapUI.version;var c=document.body||document.head,l=document.createElement("script");l.type="text/javascript",l.src="https://webapi.amap.com/ui/"+d+"/main.js",l.onerror=function(e){i.AMapUI=a.failed,t("请求 AMapUI 失败")},l.onload=function(){if(i.AMapUI=a.loaded,r.length)window.AMapUI.loadUI(r,(function(){for(var e=0,t=r.length;e<t;e++){var a=r[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}for(n();s.AMapUI.length;)s.AMapUI.splice(0,1)[0]()}));else for(n();s.AMapUI.length;)s.AMapUI.splice(0,1)[0]()},c.appendChild(l)}else i.AMapUI===a.loaded?e.version&&e.version!==o.AMapUI.version?t("不允许多个版本 AMapUI 混用"):r.length?window.AMapUI.loadUI(r,(function(){for(var e=0,t=r.length;e<t;e++){var a=r[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}n()})):n():e.version&&e.version!==o.AMapUI.version?t("不允许多个版本 AMapUI 混用"):s.AMapUI.push((function(e){e?t(e):r.length?window.AMapUI.loadUI(r,(function(){for(var e=0,t=r.length;e<t;e++){var a=r[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}n()})):n()}))}))}function t(e){return new Promise((function(n,t){if(o.AMap.version.startsWith("2.0"))t("Loca 暂不适配 JSAPI 2.0,请使用 1.4.15");else if(i.Loca===a.failed)t("前次请求 Loca 失败");else if(i.Loca===a.notload){i.Loca=a.loading,o.Loca.version=e.version||o.Loca.version;var r=o.Loca.version,d=o.key,c=document.body||document.head,l=document.createElement("script");l.type="text/javascript",l.src="https://webapi.amap.com/loca?v="+r+"&key="+d,l.onerror=function(e){i.Loca=a.failed,t("请求 AMapUI 失败")},l.onload=function(){for(i.Loca=a.loaded,n();s.Loca.length;)s.Loca.splice(0,1)[0]()},c.appendChild(l)}else i.Loca===a.loaded?e.version&&e.version!==o.Loca.version?t("不允许多个版本 Loca 混用"):n():e.version&&e.version!==o.Loca.version?t("不允许多个版本 Loca 混用"):s.Loca.push((function(e){e?t(e):t()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var a;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(a||(a={}));var o={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},s={AMap:[],AMapUI:[],Loca:[]},r=[],d=function(e){"function"==typeof e&&(i.AMap===a.loaded?e(window.AMap):r.push(e))};return{load:function(n){return new Promise((function(t,s){if(i.AMap==a.failed)s("");else if(i.AMap==a.notload){var c=n.key,l=n.version,p=n.plugins;c?(window.AMap&&"lbs.amap.com"!==location.host&&s("禁止多种API加载方式混用"),o.key=c,o.AMap.version=l||o.AMap.version,o.AMap.plugins=p||o.AMap.plugins,i.AMap=a.loading,l=document.body||document.head,window.___onAPILoaded=function(o){if(delete window.___onAPILoaded,o)i.AMap=a.failed,s(o);else for(i.AMap=a.loaded,e(n).then((function(){t(window.AMap)}))["catch"](s);r.length;)r.splice(0,1)[0]()},p=document.createElement("script"),p.type="text/javascript",p.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+o.AMap.version+"&key="+c+"&plugin="+o.AMap.plugins.join(","),p.onerror=function(e){i.AMap=a.failed,s(e)},l.appendChild(p)):s("请填写key")}else if(i.AMap==a.loaded)if(n.key&&n.key!==o.key)s("多个不一致的 key");else if(n.version&&n.version!==o.AMap.version)s("不允许多个版本 JSAPI 混用");else{if(c=[],n.plugins)for(l=0;l<n.plugins.length;l+=1)-1==o.AMap.plugins.indexOf(n.plugins[l])&&c.push(n.plugins[l]);c.length?window.AMap.plugin(c,(function(){e(n).then((function(){t(window.AMap)}))["catch"](s)})):e(n).then((function(){t(window.AMap)}))["catch"](s)}else if(n.key&&n.key!==o.key)s("多个不一致的 key");else if(n.version&&n.version!==o.AMap.version)s("不允许多个版本 JSAPI 混用");else{var u=[];if(n.plugins)for(l=0;l<n.plugins.length;l+=1)-1==o.AMap.plugins.indexOf(n.plugins[l])&&u.push(n.plugins[l]);d((function(){u.length?window.AMap.plugin(u,(function(){e(n).then((function(){t(window.AMap)}))["catch"](s)})):e(n).then((function(){t(window.AMap)}))["catch"](s)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,o={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},s={AMap:[],AMapUI:[],Loca:[]}}}}))},a5d4:function(e,n,t){"use strict";var a=function(){var e=this,n=e._self._c;return n("Modal",{attrs:{width:"800","footer-hide":""},model:{value:e.enableMap,callback:function(n){e.enableMap=n},expression:"enableMap"}},[n("RadioGroup",{attrs:{type:"button"},on:{"on-change":e.changeMap},model:{value:e.mapDefault,callback:function(n){e.mapDefault=n},expression:"mapDefault"}},[n("Radio",{attrs:{label:"select"}},[e._v("级联选择")]),e.aMapSwitch?n("Radio",{attrs:{label:"map"}},[e._v("高德地图")]):e._e()],1),n("div",["select"===e.mapDefault?n("div",[n("div",{staticClass:"selector"},e._l(Object.keys(e.data),(function(t,a){return n("div",{key:a,staticClass:"selector-item"},e._l(e.data[t],(function(t,o){return n("div",{key:o,staticClass:"map-item",class:{active:e.chiosend[a].id==t.id},on:{click:function(n){e.init(t,a!=Object.keys(e.data).length-1?Object.keys(e.data)[a+1]:0,a)}}},[e._v(" "+e._s(t.name)+" ")])})),0)})),0),n("div",{staticClass:"footer"},[n("Button",{attrs:{type:"primary"},on:{click:e.finished}},[e._v("确定")])],1)]):e._e(),"map"===e.mapDefault?n("mapping",{ref:"map",on:{getAddress:e.getAddress}}):e._e()],1)],1)},o=[],i=t("f121"),s=function(){var e=this,n=e._self._c;return n("div",{staticClass:"map"},[n("div",{staticClass:"address"},[e._v(e._s(e.addrContent.address))]),n("div",{attrs:{id:"map-container"}}),n("div",{staticClass:"search-con"},[n("Input",{attrs:{placeholder:"输入关键字搜索",id:"input-map"},model:{value:e.mapSearch,callback:function(n){e.mapSearch=n},expression:"mapSearch"}}),n("ul",e._l(e.tips,(function(t,a){return n("li",{key:a,on:{click:function(n){return e.selectAddr(t.location)}}},[n("p",[e._v(e._s(t.name))]),n("p",[e._v(e._s(t.district+t.address))])])})),0)],1),n("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"primary",loading:e.loading},on:{click:e.ok}},[e._v("确定")])],1)])},r=[],d=t("862d"),c=t.n(d),l=t("2f94");const p=t("f121");var u={name:"map",data(){return{config:p,showMap:!1,mapSearch:"",map:null,autoComplete:null,geocoder:null,positionPicker:null,tips:[],addrContent:{},loading:!1}},watch:{mapSearch:function(e){this.searchOfMap(e)}},methods:{ok(){if(this.addrContent&&this.addrContent.regeocode){const e={cityCode:this.addrContent.regeocode.addressComponent.citycode,townName:this.addrContent.regeocode.addressComponent.township};Object(l["d"])(e).then(e=>{e.success&&(this.addrContent.addr=e.result.name.replace(/,/g," "),this.addrContent.addrId=e.result.id,this.loading=!1,this.$emit("getAddress",this.addrContent))})}else this.$Message.error("未获取到坐标信息！请查看高德API配置是否正确")},init(){c.a.load({key:this.config.aMapKey,version:"",plugins:["AMap.ToolBar","AMap.Autocomplete","AMap.PlaceSearch","AMap.Geolocation","AMap.Geocoder"],AMapUI:{version:"1.1",plugins:["misc/PositionPicker"]}}).then(e=>{let n=this;this.map=new e.Map("map-container",{zoom:12}),n.map.addControl(new e.ToolBar),n.map.addControl(new e.Autocomplete),n.map.addControl(new e.PlaceSearch),n.map.addControl(new e.Geocoder);let t={city:"全国"};n.autoComplete=new e.Autocomplete(t),n.geocoder=new e.Geocoder(t),n.positionPicker=new AMapUI.PositionPicker({mode:"dragMap",map:n.map}),n.positionPicker.start(),n.positionPicker.on("success",(function(e){n.addrContent=e}))}).catch(e=>{})},searchOfMap(e){let n=this;this.autoComplete.search(e,(function(e,t){"complete"==e&&"OK"==t.info?n.tips=t.tips:n.tips=[]}))},selectAddr(e){if(!e)return this.$Message.warning("请选择正确点位"),!1;const n=[e.lng,e.lat];this.positionPicker.start(n)}},mounted(){this.init()}},f=u,h=(t("44d9"),t("2877")),m=Object(h["a"])(f,s,r,!1,null,"5534cbf6",null),A=m.exports,M=t("2934"),v={components:{mapping:A},data(){return{aMapSwitch:i["aMapSwitch"],enableMap:!1,mapDefault:"select",data:{province:[],city:[],area:[],street:[]},chiosend:[]}},mounted(){this.chiosend=new Array(4).fill("")},methods:{open(){this.enableMap=!0,this.init({id:0},"province")},changeMap(e){this.mapDefault=e},init(e,n="province",t){0==n?this.chiosend.splice(3,1,e):M["f"](e.id).then(a=>{a.result.length&&0!==e.id?this.chiosend[t]=e:a.result.length||(this.chiosend[t]=e),this.data[n]=a.result,"city"==n&&(this.data.area=[],this.data.street=[],this.chiosend.splice(1,3,"","","")),"area"==n&&(this.data.street=[],this.chiosend.splice(2,2,"","")),"street"==n&&this.chiosend.splice(3,1,"")})},getAddress(e){this.$emit("callback",{type:this.mapDefault,data:e}),this.enableMap=!1},finished(){if(!this.chiosend[0])return void this.$Message.error("请选择地址");const e=this.chiosend.filter(e=>""!==e&&""!==e.value);this.enableMap=!1,this.$emit("callback",{type:this.mapDefault,data:e})}}},g=v,w=(t("b0eb"),Object(h["a"])(g,a,o,!1,null,"10cc8e84",null));n["a"]=w.exports},b0eb:function(e,n,t){"use strict";t("6f49")},bc43:function(e,n,t){}}]);