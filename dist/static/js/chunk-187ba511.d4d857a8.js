(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-187ba511"],{"80f0":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"point-mall"},[s("BaseHeader"),s("Search"),s("cateNav"),s("h3",{staticClass:"promotion-decorate"},[t._v("积分商品")]),s("Select",{staticClass:"cate-select-con",attrs:{size:"small"},on:{"on-select":t.selectCate},model:{value:t.cateId,callback:function(s){t.cateId=s},expression:"cateId"}},t._l(t.cateList,(function(e,a){return s("Option",{key:a,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1),s("div",{staticClass:"goods-list"},[0===t.goodsList.length?s("empty"):t._l(t.goodsList,(function(e,a){return s("div",{key:a,staticClass:"goods-show-info",on:{click:function(s){return t.goGoodsDetail(e.id)}}},[s("div",{staticClass:"goods-show-img"},[s("img",{attrs:{width:"220",height:"220",src:e.goodsSku.thumbnail}})]),s("div",{staticClass:"goods-show-price"},[s("span",[s("span",{staticClass:"seckill-price text-danger"},[t._v(t._s(e.points)+"积分")])])]),s("div",{staticClass:"goods-show-detail"},[s("span",[t._v(t._s(e.goodsSku.goodsName))])]),s("div",{staticClass:"goods-show-num"},[t._v(" 已有"),s("span",[t._v(t._s(e.commentNum||0))]),t._v("人评价 ")]),s("div",{staticClass:"goods-show-seller"},[s("span",[t._v(t._s(e.storeName))])])])}))],2),s("div",{staticClass:"page-size"},[s("Page",{attrs:{total:t.total,"page-size":t.params.pageSize,"show-total":"","show-sizer":""},on:{"on-change":t.changePageNum,"on-page-size-change":t.changePageSize}})],1),s("BaseFooter")],1)},o=[],i=e("f74c"),c={data(){return{goodsList:[],cateList:[{name:"全部分类",id:0}],params:{pageNumber:1,pageSize:20,pointsGoodsCategoryId:""},total:0,cateId:""}},mounted(){this.params.pointsGoodsCategoryId=this.$route.query.categoryId||"",this.cateId=this.$route.query.categoryId||0,this.getList(),this.getCate()},methods:{getList(){Object(i["a"])(this.params).then(t=>{t.success&&(this.goodsList=t.result.records,this.total=t.result.total)})},getCate(){Object(i["b"])(this.params).then(t=>{t.success&&this.cateList.push(...t.result.records)})},selectCate(t){let s=0===t.value?"":t.value;this.params.pointsGoodsCategoryId=s,this.getList(),this.$router.push({query:{categoryId:s}})},goGoodsDetail(t){this.$router.push({path:"/pointGoodsDetail",query:{id:t}})},changePageNum(t){this.params.pageNumber=t,this.getList()},changePageSize(t){this.params.pageNumber=1,this.params.pageSize=t,this.getList()}}},r=c,n=(e("b44a"),e("2877")),d=Object(n["a"])(r,a,o,!1,null,"5823f0e9",null);s["default"]=d.exports},"8c20":function(t,s,e){},b44a:function(t,s,e){"use strict";e("8c20")}}]);